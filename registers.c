#include "copbuilder.h"
#include "registers.h"
#include <string.h>
#include <stdio.h>

typedef struct customRegister {
    char*    name;
    char*    value;
}customRegister;

customRegister registers[] = {
    {"BLTDDAT","0x0000"},
    {"DMACONR","0x0002"},
    {"VPOSR","0x0004"},
    {"VHPOSR","0x0006"},
    {"DSKDATR","0x0008"},
    {"JOY0DAT","0x000a"},
    {"JOY1DAT","0x000c"},
    {"CLXDAT","0x000e"},
    {"ADKCONR","0x0010"},
    {"POT0DAT","0x0012"},
    {"POT1DAT","0x0014"},
    {"POTGOR","0x0016"},
    {"SERDATR","0x0018"},
    {"DSKBYTR","0x001a"},
    {"INTENAR","0x001c"},
    {"INTREQR","0x001e"},
    {"DSKPTH","0x0020"},
    {"DSKPTL","0x0022"},
    {"DSKLEN","0x0024"},
    {"DSKDAT","0x0026"},
    {"REFPTR","0x0028"},
    {"VPOSW","0x002a"},
    {"VHPOSW","0x002c"},
    {"COPCON","0x002e"},
    {"SERDAT","0x0030"},
    {"SERPER","0x0032"},
    {"POTGO","0x0034"},
    {"JOYTEST","0x0036"},
    {"STREQU","0x0038"},
    {"STRVBL","0x003a"},
    {"STRHOR","0x003c"},
    {"STRLONG","0x003e"},
    {"BLTCON0","0x0040"},
    {"BLTCON1","0x0042"},
    {"BLTAFWM","0x0044"},
    {"BLTALWM","0x0046"},
    {"BLTCPTH","0x0048"},
    {"BLTCPTL","0x004a"},
    {"BLTBPTH","0x004c"},
    {"BLTBPTL","0x004e"},
    {"BLTAPTH","0x0050"},
    {"BLTAPTL","0x0052"},
    {"BLTDPTH","0x0054"},
    {"BLTDPTL","0x0056"},
    {"BLTSIZE","0x0058"},
    {"BLTCON0L","0x005a"},
    {"BLTSIZV","0x005c"},
    {"BLTSIZH","0x005e"},
    {"BLTCMOD","0x0060"},
    {"BLTBMOD","0x0062"},
    {"BLTAMOD","0x0064"},
    {"BLTDMOD","0x0066"},
    {"RESERVED_068","0x0068"},
    {"RESERVED_06a","0x006a"},
    {"RESERVED_06c","0x006c"},
    {"RESERVED_06e","0x006e"},
    {"BLTCDAT","0x0070"},
    {"BLTBDAT","0x0072"},
    {"BLTADAT","0x0074"},
    {"RESERVED_076","0x0076"},
    {"SPRHDAT","0x0078"},
    {"BPLHDAT","0x007a"},
    {"LISAID","0x007c"},
    {"DSKSYNC","0x007e"},
    {"COP1LCH","0x0080"},
    {"COP1LCL","0x0082"},
    {"COP2LCH","0x0084"},
    {"COP2LCL","0x0086"},
    {"COPJMP1","0x0088"},
    {"COPJMP2","0x008a"},
    {"COPINS","0x008c"},
    {"DIWSTRT","0x008e"},
    {"DIWSTOP","0x0090"},
    {"DDFSTRT","0x0092"},
    {"DDFSTOP","0x0094"},
    {"DMACON","0x0096"},
    {"CLXCON","0x0098"},
    {"INTENA","0x009a"},
    {"INTREQ","0x009c"},
    {"ADKCON","0x009e"},
    {"AUD0LCH","0x00a0"},
    {"AUD0LCL","0x00a2"},
    {"AUD0LEN","0x00a4"},
    {"AUD0PER","0x00a6"},
    {"AUD0VOL","0x00a8"},
    {"AUD0DAT","0x00aa"},
    {"RESERVED_0ac","0x00ac"},
    {"RESERVED_0ae","0x00ae"},
    {"AUD1LCH","0x00b0"},
    {"AUD1LCL","0x00b2"},
    {"AUD1LEN","0x00b4"},
    {"AUD1PER","0x00b6"},
    {"AUD1VOL","0x00b8"},
    {"AUD1DAT","0x00ba"},
    {"RESERVED_0bc","0x00bc"},
    {"RESERVED_0be","0x00be"},
    {"AUD2LCH","0x00c0"},
    {"AUD2LCL","0x00c2"},
    {"AUD2LEN","0x00c4"},
    {"AUD2PER","0x00c6"},
    {"AUD2VOL","0x00c8"},
    {"AUD2DAT","0x00ca"},
    {"RESERVED_0cc","0x00cc"},
    {"RESERVED_0ce","0x00ce"},
    {"AUD3LCH","0x00d0"},
    {"AUD3LCL","0x00d2"},
    {"AUD3LEN","0x00d4"},
    {"AUD3PER","0x00d6"},
    {"AUD3VOL","0x00d8"},
    {"AUD3DAT","0x00da"},
    {"RESERVED_0dc","0x00dc"},
    {"RESERVED_0de","0x00de"},
    {"BPL1PTH","0x00e0"},
    {"BPL1PTL","0x00e2"},
    {"BPL2PTH","0x00e4"},
    {"BPL2PTL","0x00e6"},
    {"BPL3PTH","0x00e8"},
    {"BPL3PTL","0x00ea"},
    {"BPL4PTH","0x00ec"},
    {"BPL4PTL","0x00ee"},
    {"BPL5PTH","0x00f0"},
    {"BPL5PTL","0x00f2"},
    {"BPL6PTH","0x00f4"},
    {"BPL6PTL","0x00f6"},
    {"BPL7PTH","0x00f8"},
    {"BPL7PTL","0x00fa"},
    {"BPL8PTH","0x00fc"},
    {"BPL8PTL","0x00fe"},
    {"BPLCON0","0x0100"},
    {"BPLCON1","0x0102"},
    {"BPLCON2","0x0104"},
    {"BPLCON3","0x0106"},
    {"BPL1MOD","0x0108"},
    {"BPL2MOD","0x010a"},
    {"BPLCON4","0x010c"},
    {"CLXCON2","0x010e"},
    {"BPL1DAT","0x0110"},
    {"BPL2DAT","0x0112"},
    {"BPL3DAT","0x0114"},
    {"BPL4DAT","0x0116"},
    {"BPL5DAT","0x0118"},
    {"BPL6DAT","0x011a"},
    {"BPL7DAT","0x011c"},
    {"BPL8DAT","0x011e"},
    {"SPR0PTH","0x0120"},
    {"SPR0PTL","0x0122"},
    {"SPR1PTH","0x0124"},
    {"SPR1PTL","0x0126"},
    {"SPR2PTH","0x0128"},
    {"SPR2PTL","0x012a"},
    {"SPR3PTH","0x012c"},
    {"SPR3PTL","0x012e"},
    {"SPR4PTH","0x0130"},
    {"SPR4PTL","0x0132"},
    {"SPR5PTH","0x0134"},
    {"SPR5PTL","0x0136"},
    {"SPR6PTH","0x0138"},
    {"SPR6PTL","0x013a"},
    {"SPR7PTH","0x013c"},
    {"SPR7PTL","0x013e"},
    {"SPR0POS","0x0140"},
    {"SPR0CTL","0x0142"},
    {"SPR0DATA","0x0144"},
    {"SPR0DATB","0x0146"},
    {"SPR1POS","0x0148"},
    {"SPR1CTL","0x014a"},
    {"SPR1DATA","0x014c"},
    {"SPR1DATB","0x014e"},
    {"SPR2POS","0x0150"},
    {"SPR2CTL","0x0152"},
    {"SPR2DATA","0x0154"},
    {"SPR2DATB","0x0156"},
    {"SPR3POS","0x0158"},
    {"SPR3CTL","0x015a"},
    {"SPR3DATA","0x015c"},
    {"SPR3DATB","0x015e"},
    {"SPR4POS","0x0160"},
    {"SPR4CTL","0x0162"},
    {"SPR4DATA","0x0164"},
    {"SPR4DATB","0x0166"},
    {"SPR5POS","0x0168"},
    {"SPR5CTL","0x016a"},
    {"SPR5DATA","0x016c"},
    {"SPR5DATB","0x016e"},
    {"SPR6POS","0x0170"},
    {"SPR6CTL","0x0172"},
    {"SPR6DATA","0x0174"},
    {"SPR6DATB","0x0176"},
    {"SPR7POS","0x0178"},
    {"SPR7CTL","0x017a"},
    {"SPR7DATA","0x017c"},
    {"SPR7DATB","0x017e"},
    {"COLOR00","0x0180"},
    {"COLOR01","0x0182"},
    {"COLOR02","0x0184"},
    {"COLOR03","0x0186"},
    {"COLOR04","0x0188"},
    {"COLOR05","0x018a"},
    {"COLOR06","0x018c"},
    {"COLOR07","0x018e"},
    {"COLOR08","0x0190"},
    {"COLOR09","0x0192"},
    {"COLOR10","0x0194"},
    {"COLOR11","0x0196"},
    {"COLOR12","0x0198"},
    {"COLOR13","0x019a"},
    {"COLOR14","0x019c"},
    {"COLOR15","0x019e"},
    {"COLOR16","0x01a0"},
    {"COLOR17","0x01a2"},
    {"COLOR18","0x01a4"},
    {"COLOR19","0x01a6"},
    {"COLOR20","0x01a8"},
    {"COLOR21","0x01aa"},
    {"COLOR22","0x01ac"},
    {"COLOR23","0x01ae"},
    {"COLOR24","0x01b0"},
    {"COLOR25","0x01b2"},
    {"COLOR26","0x01b4"},
    {"COLOR27","0x01b6"},
    {"COLOR28","0x01b8"},
    {"COLOR29","0x01ba"},
    {"COLOR30","0x01bc"},
    {"COLOR31","0x01be"},
    {"HTOTAL","0x01c0"},
    {"HSSTOP","0x01c2"},
    {"HBSTRT","0x01c4"},
    {"HBSTOP","0x01c6"},
    {"VTOTAL","0x01c8"},
    {"VSSTOP","0x01ca"},
    {"VBSTRT","0x01cc"},
    {"VBSTOP","0x01ce"},
    {"SPRHSTRT","0x01d0"},
    {"SPRHSTOP","0x01d2"},
    {"BPLHSTRT","0x01d4"},
    {"BPLHSTOP","0x01d6"},
    {"HHPOSW","0x01d8"},
    {"HHPOSR","0x01da"},
    {"BEAMCON0","0x01dc"},
    {"HSSTRT","0x01de"},
    {"VSSTRT","0x01e0"},
    {"HCENTER","0x01e2"},
    {"DIWHIGH","0x01e4"},
    {"BPLHMOD","0x01e6"},
    {"SPRHPTH","0x01e8"},
    {"SPRHPTL","0x01ea"},
    {"BPLHPTH","0x01ec"},
    {"BPLHPTL","0x01ee"},
    {"RESERVED_1f0","0x01f0"},
    {"RESERVED_1f2","0x01f2"},
    {"RESERVED_1f4","0x01f4"},
    {"RESERVED_1f6","0x01f6"},
    {"RESERVED_1f8","0x01f8"},
    {"RESERVED_1fa","0x01fa"},
    {"FMODE","0x01fc"},
    {"CUSTOM_NOOP","0x01fe"}
};

UWORD resolveRegister(char* registerName) {
    for (int i = 0; i < TOTAL_REGISTERS ; i++) {
        if (!strcmp(registerName,registers[i].name)) {
            printf("Trovato! %s\n",registers[i].value);
            return hex2word(registers[i].value);
        }
    }
    return 0;
}